services:
  - type: web
    name: diva-haus
    env: node
    plan: starter
    branch: fashion-vton-model
    region: oregon
    buildCommand: npm run build
    startCommand: npm start
    envVars:
      - key: MONGO_URI
        value: "${MONGO_URI}"
      - key: JWT_SECRET
        value: "${JWT_SECRET}"
      - key: CLOUDINARY_CLOUD_NAME
        value: "${CLOUDINARY_CLOUD_NAME}"
      - key: CLOUDINARY_API_KEY
        value: "${CLOUDINARY_API_KEY}"
      - key: CLOUDINARY_API_SECRET
        value: "${CLOUDINARY_API_SECRET}"
      - key: CLIENT_ORIGIN
        value: "https://diva-haus.onrender.com"
      - key: NODE_ENV
        value: "production"
      - key: STORAGE_PROVIDER
        value: "cloudinary"
      # AI provider configuration (fallback uses Hugging Face free tier)
      - key: AI_PROVIDER
        value: "huggingface"
      - key: HF_API_TOKEN
        value: "${HF_API_TOKEN}"
      - key: HF_API_MODEL
        value: "runwayml/stable-diffusion-v1-5"  # optional override
